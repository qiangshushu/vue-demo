webpackJsonp([0],{BFWk:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("woOf"),r=i.n(e),a=i("gRE1"),n=i.n(a),h={data:function(){return{canvas:null,ctx:null,cw:800,padding:40,size:15,uw:0,white:null,black:null,wins:[],points:[],step:0,gameover:!1}},created:function(){this.uw=(this.cw-2*this.padding)/(this.size-1)},mounted:function(){this.canvas=this.$refs.checkerboard,this.canvas.width=this.cw,this.canvas.height=this.cw,this.ctx=this.canvas.getContext("2d"),this.white=this.$refs.white,this.black=this.$refs.black,this.start()},methods:{start:function(){this.wins=[];for(var t=0;t<this.size;t++)for(var s=0;s<this.size-4;s++){for(var i=[],e=0;e<5;e++)i.push(t+","+(s+e));this.wins.push(i)}for(var r=0;r<this.size-4;r++)for(var a=0;a<this.size;a++){for(var n=[],h=0;h<5;h++)n.push(r+h+","+a);this.wins.push(n)}for(var o=0;o<this.size-4;o++)for(var c=0;c<this.size-4;c++){for(var u=[],f=0;f<5;f++)u.push(o+f+","+(c+f));this.wins.push(u)}for(var l=0;l<this.size-4;l++)for(var d=this.size-1;d>3;d--){for(var p=[],w=0;w<5;w++)p.push(l+w+","+(d-w));this.wins.push(p)}this.wins=this.wins.map(function(t){var s={};return t.forEach(function(t){s[t]=null}),s}),this.points=[];for(var v=0;v<this.size;v++)for(var b=0;b<this.size;b++)this.points.push({x:v,y:b,step:-1,disabled:!1,score:0,bWay:0,wWay:0});this.gameover=!1,this.step=0,this.drawCheckerboard()},drawCheckerboard:function(){this.ctx.clearRect(0,0,this.cw,this.cw),this.ctx.save(),this.ctx.translate(this.padding,this.padding),this.ctx.beginPath();for(var t=0;t<this.size;t++)this.ctx.moveTo(0,t*this.uw),this.ctx.lineTo((this.size-1)*this.uw,t*this.uw),this.ctx.moveTo(t*this.uw,0),this.ctx.lineTo(t*this.uw,(this.size-1)*this.uw);this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},computeScore:function(){for(var t=0;t<this.points.length;t++){if(this.gameover){this.start();break}var s=this.points[t];s.bWay=0,s.wWay=0,s.score=0;for(var i=0;i<this.wins.length;i++){var e=this.wins[i];if(void 0!==e[s.x+","+s.y]){var r=n()(e).filter(function(t){return 1===t}),a=n()(e).filter(function(t){return 0===t});if(5===a.length){alert("you win!"),this.gameover=!0;break}if(5===r.length){alert("computer win!"),this.gameover=!0;break}switch(n()(e).includes(0)||s.wWay++,n()(e).includes(1)||s.bWay++,r.length){case 0:s.score+=11;break;case 1:s.score+=220;break;case 2:s.score+=4400;break;case 3:s.score+=88e3;break;case 4:s.score+=176e4;break;case 5:s.score+=352e5;break;default:s.score+=1}switch(a.length){case 0:s.score+=10;break;case 1:s.score+=200;break;case 2:s.score+=4e3;break;case 3:s.score+=8e4;break;case 4:s.score+=16e5;break;case 5:s.score+=32e6;break;default:s.score+=1}}}}},yourTurn:function(t){var s=this,i=Math.round((t.layerX-this.padding)/this.uw),e=Math.round((t.layerY-this.padding)/this.uw);if(this.points[i*this.size+e].disabled)return!1;this.wins.forEach(function(t){void 0!==t[i+","+e]&&(t[i+","+e]=s.step%2)}),this.points[i*this.size+e].disabled=!0,this.points[i*this.size+e].step=this.step++,this.drawCheckerboard(),this.drawPoints(),this.computerTurn()},computerTurn:function(){var t=this,s=this.points.filter(function(t){return!t.disabled}).max("score");console.log(this.points,s);var i=s.x,e=s.y;this.wins.forEach(function(s){void 0!==s[i+","+e]&&(s[i+","+e]=t.step%2)}),this.points[i*this.size+e].disabled=!0,this.points[i*this.size+e].step=this.step++,this.drawCheckerboard(),this.drawPoints()},drawPoints:function(){var t=this;this.points.filter(function(t){return t.disabled}).forEach(function(s){var i=s.x*t.uw+t.padding,e=s.y*t.uw+t.padding;t.ctx.drawImage(s.step%2?t.white:t.black,i-t.uw/2,e-t.uw/2,t.uw,t.uw)}),this.computeScore()},back:function(){var t=this;r()([],this.points).sort(function(t,s){return t.step>s.step}).slice(-2).forEach(function(s){t.wins.forEach(function(t){void 0!==t[s.x+","+s.y]&&(t[s.x+","+s.y]=null)}),s.disabled=!1,s.step=-1}),this.drawCheckerboard(),this.drawPoints()}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("canvas",{ref:"checkerboard",on:{click:t.yourTurn}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],ref:"white",attrs:{src:i("p1XC"),alt:""}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],ref:"black",attrs:{src:i("RPLP"),alt:""}}),t._v(" "),t.step>1?e("button",{on:{click:t.back}},[t._v("上一步")]):t._e()])},staticRenderFns:[]},c=i("VU/8")(h,o,!1,null,null,null);s.default=c.exports},RPLP:function(t,s,i){t.exports=i.p+"static/img/black.9ac2d90.png"},TmV0:function(t,s,i){i("fZOM"),t.exports=i("FeBl").Object.values},fZOM:function(t,s,i){var e=i("kM2E"),r=i("mbce")(!1);e(e.S,"Object",{values:function(t){return r(t)}})},gRE1:function(t,s,i){t.exports={default:i("TmV0"),__esModule:!0}},mbce:function(t,s,i){var e=i("lktj"),r=i("TcQ7"),a=i("NpIQ").f;t.exports=function(t){return function(s){for(var i,n=r(s),h=e(n),o=h.length,c=0,u=[];o>c;)a.call(n,i=h[c++])&&u.push(t?[i,n[i]]:n[i]);return u}}},p1XC:function(t,s,i){t.exports=i.p+"static/img/white.77aaa43.png"}});
//# sourceMappingURL=0.59c8b4c7c5e492b66299.js.map